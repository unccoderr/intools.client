import { useContext } from "react"

import { AppContext } from "../../app"
import './Avatar.css'

interface AvatarProps {
	className?: string,
}
export const Avatar = ({ className }: AvatarProps) => {
	const { user } = useContext(AppContext)

	const showAvatar = user && user.avatar_url
	const backgroundURL = user?.avatar_url || ''

	return <div className={`avatar ${className ? ` ${className}` : ''}`}>
		{ showAvatar ? <div>
			<div style={{ backgroundImage: `url(${backgroundURL})` }}/>
		</div> : <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
			<path d="M20.9923 8.29204C20.9501 7.33564 20.7954 6.67811 20.5739 6.10836C20.3453 5.50358 19.9937 4.96213 19.533 4.51201C19.0829 4.05489 18.5378 3.69969 17.9401 3.4747C17.367 3.25315 16.7129 3.09848 15.7565 3.05632C14.793 3.01058 14.4871 3 12.0433 3C9.59942 3 9.29353 3.01058 8.33355 3.05274C7.37714 3.09491 6.71962 3.24971 6.15 3.47113C5.54509 3.69969 5.00363 4.05132 4.55352 4.51201C4.0964 4.96213 3.74133 5.50715 3.51621 6.10493C3.29465 6.67811 3.13999 7.33206 3.09782 8.28847C3.05208 9.25202 3.0415 9.55791 3.0415 12.0017C3.0415 14.4456 3.05208 14.7515 3.09425 15.7115C3.13642 16.6679 3.29122 17.3254 3.51277 17.8951C3.74133 18.4999 4.0964 19.0414 4.55352 19.4915C5.00363 19.9486 5.54866 20.3038 6.14643 20.5288C6.71962 20.7503 7.37357 20.905 8.33011 20.9472C9.28996 20.9895 9.59598 20.9999 12.0398 20.9999C14.4837 20.9999 14.7895 20.9895 15.7495 20.9472C16.7059 20.905 17.3635 20.7503 17.9331 20.5288C19.1428 20.0611 20.0992 19.1047 20.5669 17.8951C20.7883 17.3219 20.9431 16.6679 20.9853 15.7115C21.0274 14.7515 21.038 14.4456 21.038 12.0017C21.038 9.55791 21.0344 9.25202 20.9923 8.29204ZM19.3713 15.6411C19.3326 16.5202 19.1849 16.9949 19.0619 17.3114C18.7594 18.0955 18.137 18.7179 17.3529 19.0204C17.0364 19.1434 16.5583 19.2911 15.6826 19.3297C14.7332 19.372 14.4485 19.3824 12.0468 19.3824C9.64516 19.3824 9.35685 19.372 8.41088 19.3297C7.5318 19.2911 7.0571 19.1434 6.74063 19.0204C6.3504 18.8761 5.9952 18.6476 5.70689 18.3487C5.40801 18.0568 5.17945 17.7052 5.03522 17.3149C4.91215 16.9985 4.76449 16.5202 4.7259 15.6447C4.68359 14.6953 4.67315 14.4104 4.67315 12.0088C4.67315 9.60709 4.68359 9.31878 4.7259 8.37295C4.76449 7.49387 4.91215 7.01917 5.03522 6.7027C5.17945 6.31233 5.40801 5.95727 5.71046 5.66882C6.00221 5.36994 6.35384 5.14138 6.7442 4.99729C7.06067 4.87422 7.53894 4.72656 8.41445 4.68783C9.36385 4.64566 9.64873 4.63508 12.0503 4.63508C14.4555 4.63508 14.7402 4.64566 15.6862 4.68783C16.5653 4.72656 17.04 4.87422 17.3564 4.99729C17.7467 5.14138 18.1019 5.36994 18.3902 5.66882C18.6891 5.9607 18.9176 6.31233 19.0619 6.7027C19.1849 7.01917 19.3326 7.4973 19.3713 8.37295C19.4135 9.32235 19.4241 9.60709 19.4241 12.0088C19.4241 14.4104 19.4135 14.6917 19.3713 15.6411Z"/>
			<path d="M12.0434 7.37781C9.49062 7.37781 7.41943 9.44886 7.41943 12.0018C7.41943 14.5546 9.49062 16.6257 12.0434 16.6257C14.5963 16.6257 16.6673 14.5546 16.6673 12.0018C16.6673 9.44886 14.5963 7.37781 12.0434 7.37781ZM12.0434 15.0012C10.3873 15.0012 9.04394 13.658 9.04394 12.0018C9.04394 10.3455 10.3873 9.00231 12.0434 9.00231C13.6996 9.00231 15.0428 10.3455 15.0428 12.0018C15.0428 13.658 13.6996 15.0012 12.0434 15.0012V15.0012Z" />
			<path d="M17.9296 7.19477C17.9296 7.7909 17.4462 8.27425 16.85 8.27425C16.2539 8.27425 15.7705 7.7909 15.7705 7.19477C15.7705 6.59851 16.2539 6.1153 16.85 6.1153C17.4462 6.1153 17.9296 6.59851 17.9296 7.19477V7.19477Z" />
		</svg> }
	</div>
}